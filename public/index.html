<!DOCTYPE html>
<html ng-app='boardAdmin'>
  <head>
    <meta charset="utf-8">
    <title>Board Admin</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
    <script type="text/javascript" src="app.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/normalize.css">
    <link rel="stylesheet" href="./css/style.css">

  </head>
  <body ng-controller="mainController as ctrl">

    <nav class="navbar navbar-defaul">
    <div class="container-fluid">
      <div class="nav navbar-nav navbar-left">
        <h1>Board Admin</h1>
      </div>
      <div class="nav navbar-nav navbar-right">
        <section ng-show="ctrl.loggedIn">
          <ul class="nav navbar-nav">
            <li ng-show="ctrl.viewOnePost" ng-click="ctrl.viewAllPosts()">Posts</li>
            <li ng-click="ctrl.toDailyTopic()">Daily Topics</li>
            <li ng-click="ctrl.logOff()">Log Off</li>
          </ul>
        </section>
      </div>
    </div>
    </hav>

    <main class="container">

      <!--  Fake Login Section -->
      <section ng-hide="ctrl.loggedIn">
        Username <input type="text" placeholder="USERNAME">
        Password <input type="text" placeholder="PASSWORD">

        <button type="button" ng-click="ctrl.getAllPosts()">Login</button>
      </section>

      <!--  View all Posts Section, and New Post Form and Update posts -->
      <section ng-hide="ctrl.viewOnePost">

        <div class=""  ng-show="ctrl.loggedIn">
          <form class="">
          <input ng-model="ctrl.postFormData.title" type="text" placeholder="Title" value="ctrl.postFormData.title">
          <textarea rows="3" ng-model="ctrl.postFormData.content" placeholder="Content">{{ctrl.postFormData.content}}</textarea>
          <input ng-model="ctrl.postFormData.author" type="text" placeholder="Author" value="ctrl.postFormData.author">
          <button ng-click="ctrl.createPost()" ng-hide="ctrl.editPostMode">Create New Post</button>
          <button ng-click="ctrl.updatePost(ctrl.postInd)" ng-show="ctrl.editPostMode">Update Post</button>
          <button ng-click="ctrl.cancelEditPost()" ng-show="ctrl.editPostMode">Cancel</button>
          </form>
        </div>


        <!--  All Posts div -->
        <div ng-repeat="post in ctrl.posts" class="posts col-sm-6 col-md-8">
          <h3 ng-click="ctrl.showPostComments(post.id, $index)" class="editLink">{{post.title}}</h3>
          <!-- <p>{{post.content}}</p> -->
          <small>By {{post.author}}</small>
          <button ng-click="ctrl.editPost($index)">Edit</button>
        </div>
      </section>

      <!-- View one post and its Comments.  -->
      <!-- Delete the post and its Comments.  -->
      <!-- Delete particular Comments.  -->
      <section ng-show="ctrl.viewOnePost">
        <!-- Post part -->
        <div class="">
          <h3>{{ctrl.viewPost.title}}</h3>
          <p>{{ctrl.viewPost.content}}</p>
          <small>By {{ctrl.viewPost.author}}</small>
          <button ng-click="ctrl.deletePost(ctrl.currentPostInd)">DELETE</button> * Will delete all comments too.

        </div>
        <!-- Comments part -->
        <div ng-repeat="comment in ctrl.postComments" class="row">
          <p>{{comment.text}}</p>
          <small>By {{comment.author}}</small>
          <button ng-click="ctrl.deleteComment($index)">Delete</button>
        </div>
      </section>

      <!-- Daily Topics Form -->
      <section>

      </section>



    </main>

    <footer>

    </footer>

  </body>
</html>
